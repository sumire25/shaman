# Combined component configuration for YHCCL OSU allreduce - Node1 and Node3
components:
  yhccl_allreduce_node1:
    custom_target: parse_osu_output.parse_osu_output_latency_sum_node1
    parameters:
      OMPI_MCA_coll_yhccl_imax:
        env_var: True
        type: int
        default: 262144
      OMPI_MCA_coll_yhccl_cache_size:
        env_var: True
        type: int
        default: 3145728
      OMPI_MCA_coll_yhccl_switch_threshold:
        env_var: True
        type: int
        default: 131072

  yhccl_allreduce_node3:
    custom_target: parse_osu_output.parse_osu_output_latency_sum_node3
    parameters:
      OMPI_MCA_coll_yhccl_imax:
        env_var: True
        type: int
        default: 262144
      OMPI_MCA_coll_yhccl_cache_size:
        env_var: True
        type: int
        default: 12582912
      OMPI_MCA_coll_yhccl_switch_threshold:
        env_var: True
        type: int
        default: 131072
